<ion-header>
  <ion-toolbar>
    <ion-title>
      Ionic Blank
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div>
    <ul class="list">
      <select class="item" [(ngModel)]="seletedMeal">
        <option >{{this.mealType.BREAKFAST}}</option >
        <option >{{this.mealType.LUNCH}}</option>
        <option >{{this.mealType.DINNER}}</option>
        <option >{{this.mealType.SUPPER}}</option>
      </select>
      <button ion-button round (click)="setMeal($event, meal)">Select meal</button>
    </ul>
  </div>

  
  
  <div style="width:100%">
    <div style="width: 20%; display: inline-block;">
      <ul class="list">
        <select class="item" [(ngModel)]="selectedProduct">
          <option *ngFor="let product of allProducts" [ngValue]="product">{{product.name}} </option>
        </select>
        <button  [disabled] = "!seletedMeal || !selectedProduct" ion-button round (click)= "presentAlertConfirmAndAddGrams()" >Add</button>
      </ul>
    </div>


    <div *ngFor="let meal of this.mealType | keyvalue">
    <div style="width: 20%; float: right" >

      <div >Added products:</div>
      <div>{{meal.value}}</div>
      <div *ngFor="let product of this.meals[meal.value].productList; let i = index" > <!-- this.meals[TYPE]-->
        <div>Name: {{product.data.name}} </div>
        <div>Grams: {{product.weight}}</div>
        <div>Kcal: {{product.getKcal()}}</div>
        <div>Protein: {{product.getProtein()}}</div>
        <div>Fat: {{product.getFat()}}</div>
        <div>Carbo: {{product.getCarbo()}} </div>
        <div>{{product.data.id}}</div>
        <button (click)="deleteProduct(meal.value,product.data.id)">Delete product</button>
      
    </div>
    </div>
  </div>


    <div style="width: 10%; display: inline-block;">
      <div>Sum of:</div>
      <div>Liczba kcal (suma): {{mealKcal}}</div>
      <div>Liczba protein (suma): {{mealProtein}}</div>
      <div>Liczba fat (suma): {{mealFat}}</div>
      <div>Liczba carbo (suma): {{mealCarbo}}</div>

    </div>
  </div>

</ion-content>